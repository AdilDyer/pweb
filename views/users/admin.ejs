<%layout("./layouts/boilerplate")%>

<div class="adminbigdiv">
  <div class="leftadmin">
    <div class="whiteboxleftadmin">
      <div class="admindashimgdiv">
        <a
          href="/"
          style="
            width: 100%;
            display: flex;
            text-decoration: none;
            color: black;
          "
        >
          <img
            src="https://res.cloudinary.com/ddxv0iwcs/image/upload/v1713022989/nfsu1_w88qok.png"
            width="50"
            alt=""
          />
          <h5>
            Placement Cell <br />
            SCSDF
          </h5>
        </a>
      </div>
      <div class="sectionslinksadmin">
        <ul style="list-style-type: none">
          <a class="pop-out" href="#Dashboard"
            ><li class="selected">Dashboard</li></a
          >
          <a class="pop-out" href="#Students"><li>Students</li></a>
          <a class="pop-out" href="#Companies"><li>Companies</li></a>
          <a class="pop-out" href="#Application"><li>Application</li></a>
          <a class="pop-out" href="#Queries"><li>Queries</li></a>
          <a class="pop-out" href="#Updates"><li>Updates</li></a>
          <a class="pop-out" href="#"><li class="signoutli">Sign Out</li></a>
        </ul>
      </div>
    </div>
  </div>
  <div class="rightadmin">
    <div id="Dashboard" class="sectiondiv">
      <div class="dashupper">
        <div class="card pop-out">
          <div class="infocardtext">
            <p class="pop-out">Total Companies Listed</p>
            <hr />
            <h4 class="pop-out">0<%=countAllListedRecruiters%></h4>
          </div>
        </div>

        <div class="card pop-out">
          <div class="infocardtext">
            <p class="pop-out">Total Registered Students</p>
            <hr />
            <h4 class="pop-out">0<%=countallRegisteredStudents%></h4>
          </div>
        </div>
        <div class="card pop-out">
          <div class="infocardtext">
            <p class="pop-out">Student Verification Left</p>
            <hr />
            <h4 class="pop-out">0<%=countallStudentsPending%></h4>
          </div>
        </div>
        <div class="card pop-out">
          <div class="infocardtext">
            <p class="pop-out">Company Verification Left</p>
            <hr />
            <h4 class="pop-out">0<%=countAllRecruitersPending%></h4>
          </div>
        </div>
      </div>
      <div class="dashlower">
        <div class="dashlower1">
          <div class="dashpie1">
            <canvas class="pop-out" id="pieChart"></canvas>
          </div>
          <div class="trafficstats">
            <div class="livevisitorsadmin">
              <div class="card pop-out">
                <div class="infocardtext">
                  <h5 class="pop-out">Currently Live Traffic</h5>
                  <hr />
                  <h4 class="pop-out">
                    0<%=countAllListedRecruiters%> Users/Min
                  </h4>
                </div>
              </div>
            </div>
            <div class="dailytrafficavg">
              <div class="card pop-out">
                <div class="infocardtext">
                  <h5 class="pop-out">Daily Average Traffic Onsite</h5>
                  <hr />
                  <h4 class="pop-out">00<%=countAllListedRecruiters%></h4>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="dashlower2">
          <div class="queries">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Recent Queries</h5>
                <br />
                <h6 class="card-subtitle mb-2 text-body-primary">
                  Raghav Sharma
                  <br />
                  PL-MTCS-40
                </h6>
                <p class="card-text">
                  Respected Sir, I would like to enquire about the Placement
                  Policy's line no 56, i.e. the updation of the credentials...
                </p>
                <h6 class="card-subtitle mb-2 text-body-primary">
                  Raghav Sharma
                  <br />
                  PL-MTCS-40
                </h6>
                <p class="card-text">
                  Respected Sir, I would like to enquire about the Placement
                  Policy's line no 56, i.e. the updation of the credentials...
                </p>
                <a
                  href="#"
                  style="text-decoration: none; color: white"
                  class="btn btn-primary card-link"
                  >See all Queries</a
                >
                <a href="#" class="card-link">Another link</a>
              </div>
            </div>
          </div>
          <div class="queries">
            <div class="card" style="background-color: dodgerblue">
              <div class="card-body">
                <h5 class="card-title">Push a General Update</h5>
                <br />
                <div class="form-group">
                  <h5>Title</h5>
                  <input type="text" class="form-control" placeholder="Title" />
                  <br />
                  <h5>Description</h5>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Description"
                  />
                  <br />
                </div>
                <a
                  href="#"
                  style="text-decoration: none; color: white"
                  class="btn btn-primary card-link"
                  >Submit</a
                >
                <a href="#" class="card-link">See all Updates</a>
              </div>
            </div>
          </div>
        </div>
        <div class="dashlower3">
          <h3>Download Stats</h3>
          <br />
        </div>
      </div>
    </div>
    <div id="Companies" class="sectiondiv">
      <div class="addlisting">
        <h3>Add a New Listing</h3>
        <br />
        <form
          class="needs-validation"
          validate=""
          method="post"
          action="/admin/addcompanylisting"
          enctype="multipart/form-data"
        >
          <div>
            <h6>Company Name</h6>
            <input
              type="text"
              id="companyName"
              class="form-control"
              required
              placeholder="Company Name"
              name="companyName"
            />
          </div>
          <div>
            <h6>Job Location</h6>
            <input
              type="text"
              id="jobLocation"
              class="form-control"
              required
              placeholder="Job Location"
              name="jobLocation"
            />
            <br />
          </div>
          <div>
            <h6>Job Type</h6>
            <select name="jobType" id="joType" class="form-control" required>
              <option value="Internship">Internship (I)</option>
              <option value="Intern FTE">Intern FTE (I+F)</option>
              <option value="FTE">FTE (F)</option>
              <option value="Internship PPO">Internship PPO (I+P)</option>
            </select>
          </div>

          <div>
            <h6>Job Title</h6>
            <input
              type="text"
              id="jobTitle"
              class="form-control"
              placeholder="Job Title"
              required
              name="jobTitle"
            />
          </div>

          <div>
            <h6>Select For Course:</h6>
            <div class="form-group" style="display: flex; padding: 0.5rem">
              <div
                class="form-check forCourseAddlistingdiv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="All"
                  name="forCourse"
                  style="width: 1rem"
                  id="AllCourseCheckAddListing"
                />
                <label class="form-check-label" for="AllCourseCheckAddListing">
                  All
                </label>
              </div>

              <div
                class="form-check forCourseAddlistingdiv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  value="MtechCs"
                  id="MTechCS"
                />
                <label class="form-check-label" for="MTechCS">MTech CS </label>
              </div>

              <div
                class="form-check forCourseAddlistingdiv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="MScCS"
                  value="MscCs"
                />
                <label class="form-check-label" for="MScCS">MSc CS</label>
              </div>

              <div
                class="form-check forCourseAddlistingdiv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="MScDFIS"
                  value="MscDfis"
                />
                <label class="form-check-label" for="MScDFIS">MSc DFIS</label>
              </div>

              <div
                class="form-check forCourseAddlistingdiv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="Mtechadsai"
                  value="MtechAdsai"
                />
                <label class="form-check-label" for="Mtechadsai">
                  MTech ADSAI</label
                >
              </div>
            </div>
          </div>

          <div>
            <h6>Job Description</h6>
            <input
              type="file"
              required
              id="jobdescriptionFile"
              name="jobDescriptionFile"
              class="form-control"
            />
          </div>

          <div>
            <h6>CTC/Stipend</h6>
            <input
              type="number"
              id="ctc"
              class="form-control"
              name="ctc"
              required
              placeholder="CTC"
            />
          </div>

          <div>
            <h6>Last Date For Application</h6>
            <input
              type="date"
              id="lastDate"
              name="lastDateToApply"
              class="form-control"
              required
            />
          </div>

          <button
            type="submit"
            class="btn form-control"
            style="
              margin-top: 1rem;
              background-color: maroon;
              color: white;
              border-radius: 2rem;
              box-shadow: 0 0 10px rgb(0, 0, 0, 0.2);
              padding: 1rem;
            "
          >
            Add Listing
          </button>
        </form>
      </div>
      <div class="companycards">
        <div class="card">
          <div class="card__content">
            <h5>Total Registered Companies</h5>
            <hr />
            <h6><%=countAllRegisteredRecruiters%></h6>
          </div>
        </div>
        <div class="card">
          <div class="card__content">
            <h5>Total Requests Pending</h5>
            <hr />
            <h6><%=countAllRecruitersPending%></h6>
          </div>
        </div>
        <div class="card">
          <div class="card__content">
            <h5>Total Listed Companies</h5>
            <hr />
            <h6><%=countAllListedRecruiters%></h6>
          </div>
        </div>
        <div class="card">
          <div class="card__content">
            <a href="/admin/export/company" style="text-decoration: none">
              <h5>Export Data Recruiters</h5>
              <br />
              <i style="color: white" class="fa-solid fa-download"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="companytable dash-table-format">
        <div class="dropdown">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            id="tableSelectorbtncompanies"
          ></button>
          <ul class="dropdown-menu">
            <li>
              <input
                type="radio"
                class="form-check tableRadio"
                data-name="Registered Companies"
                name="tableRadio"
                checked
                value="Registered Companies"
                style="display: inline"
                id="radioregiscomp"
              />
              <label for="radioregiscomp"> Registered Companies</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadio"
                name="tableRadio"
                value="Verified Companies"
                style="display: inline"
                id="radioverifiedcomp"
              />
              <label for="radioverifiedcomp"> Verified Companies</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadio"
                name="tableRadio"
                value="Verification Pending"
                style="display: inline"
                id="radioverifypend"
              />
              <label for="radioverifypend"> Verification Pending</label>
            </li>

            <li>
              <input
                type="radio"
                class="form-check tableRadio"
                name="tableRadio"
                value="Listed Companies"
                style="display: inline"
                id="radiopendincomp"
              />
              <label for="radiopendincomp"> Listed Companies </label>
            </li>
          </ul>
        </div>
        <div class="dropdown dropdown-options">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Options to Show
          </button>

          <ul
            data-name="Registered Companies"
            class="dropdown-menu"
            id="dropdown"
            style="place-items: centre"
          ></ul>
        </div>

        <button
          class="btn btn-success"
          id="markselectedverifiedCompany"
          style="display: none"
        >
          Mark all Verified
        </button>
        <div class="tables">
          <table
            class="table table-hover table-bordered"
            data-name="Registered Companies"
          >
            <thead>
              <tr class="headerrowRegistered">
                <th scope="col">#</th>
                <th scope="col">Company Name</th>
                <th scope="col">Job Type</th>
                <th scope="col">Job Title</th>
                <th scope="col">Job Location</th>
                <th scope="col">Job Description</th>
                <th scope="col">See Details</th>
              </tr>
            </thead>
            <tbody>
              <% allRegisteredRecruiters.forEach((recruiter,index) => { %>
              <tr id="dataTableRegistered">
                <td><%=index + 1%></td>
                <td><%= recruiter.companyname %></td>
                <td><%= recruiter.jobtype %></td>
                <td><%= recruiter.jobtitle %></td>
                <td><%= recruiter.tentativejoblocation %></td>
                <td><%=recruiter.JobDescription%></td>
                <td>
                  <a
                    href="/admin/recdetails/<%= recruiter._id %>?noAuditNeeded=true"
                  >
                    <button class="btn btn-primary">See Details</button>
                  </a>
                </td>
                <!-- <td>
                <a href="/admin/deboard/recruiter/<%= recruiter._id %>">
                  <button id="DeboardBtn">De-Board</button>
                </a>
              </td> -->
              </tr>
              <% }); %>
            </tbody>
          </table>

          <table
            class="table table-hover table-bordered"
            data-name="Verification Pending"
            style="display: none"
          >
            <thead>
              <tr class="headerrowPending">
                <th scope="col">
                  <input
                    type="checkbox"
                    id="selectallCompanyVerifytable"
                    class="form-check-input"
                  />
                </th>
                <th scope="col">Company Name</th>
                <th scope="col">Nature of Business</th>
                <th scope="col">Website Link</th>
                <th scope="col">Postal Address</th>
                <th scope="col">Category</th>
                <th scope="col">HR Name</th>
                <th scope="col">HR Mobile No.</th>
                <th scope="col">HR Email</th>
                <th scope="col">Delete Request</th>
                <th scope="col">Verification</th>
              </tr>
            </thead>
            <tbody>
              <% allRecruitersPending.forEach((recruiter,index) => { %>
              <tr id="dataTablePending">
                <td>
                  <input
                    type="checkbox"
                    class="form-check-input allCompanyVerificationCheck"
                    name="<%=recruiter._id%>"
                  />
                </td>
                <td><%= recruiter.companyname %></td>
                <td><%= recruiter.natureofbusiness %></td>
                <td><%= recruiter.websitelink %></td>
                <td><%= recruiter.postaladdress %></td>
                <td><%=recruiter.category%></td>
                <td><%= recruiter.headhrname %></td>
                <td><%= recruiter.headhrmobno %></td>
                <td><%= recruiter.headhremail %></td>
                <td>
                  <a href="/admin/deboard/recruiter/<%= recruiter._id %>">
                    <button class="btn btn-danger">Delete Request</button>
                  </a>
                </td>
                <td>
                  <a href="/admin/recaudited/<%=recruiter._id%>">
                    <button class="btn btn-success">Mark as Verified</button>
                  </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Listed Companies"
            style="display: none"
          >
            <thead>
              <tr class="headerrowListing">
                <th scope="col">#</th>
                <th scope="col">Company Name</th>
                <th scope="col">Job Type</th>
                <th scope="col">Job Title</th>
                <th scope="col">Job Location</th>
                <th scope="col">Job Description</th>
                <th scope="col">CTC</th>
                <th scope="col">For Course</th>
                <th scope="col">Last Date to Apply</th>
                <th scope="col">Edit Listing</th>
              </tr>
            </thead>
            <tbody>
              <% allListedRecruiters.forEach((recruiter,index) => { %>
              <tr id="dataTableListing">
                <td><%=index +1%></td>
                <td><%= recruiter.companyName %></td>
                <td><%= recruiter.jobType %></td>
                <td><%= recruiter.jobTitle %></td>
                <td><%= recruiter.jobLocation %></td>
                <td>
                  <a
                    href="<%=recruiter.jobDescriptionFile%>"
                    class="btn btn-primary"
                    target="_blank"
                    >Show File</a
                  >
                </td>
                <td><%= recruiter.ctc %></td>
                <td><%=recruiter.forCourse%></td>
                <td><%=recruiter.lastDateToApply%></td>
                <td>
                  <a href="/admin/listingDetails/<%=recruiter._id%>">
                    <button class="btn btn-primary">Edit Listing</button>
                  </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Verified Companies"
          >
            <thead>
              <tr class="headerrowVerifiedCompanies">
                <th scope="col">#</th>
                <th scope="col">Company Name</th>
                <th scope="col">Nature of Business</th>
                <th scope="col">Website Link</th>
                <th scope="col">Postal Address</th>
                <th scope="col">Category</th>
                <th scope="col">HR Name</th>
                <th scope="col">HR Mobile No.</th>
                <th scope="col">HR Email</th>
                <th scope="col">Details</th>
              </tr>
            </thead>
            <tbody>
              <% allAuditedRecruiters.forEach((recruiter,index) => { %>
              <tr id="dataTableVerifiedCompanies">
                <td><%=index +1%></td>
                <td><%= recruiter.companyname %></td>
                <td><%= recruiter.natureofbusiness %></td>
                <td><%= recruiter.websitelink %></td>
                <td><%= recruiter.postaladdress %></td>
                <td><%=recruiter.category%></td>
                <td><%= recruiter.headhrname %></td>
                <td><%= recruiter.headhrmobno %></td>
                <td><%= recruiter.headhremail %></td>
                <td>
                  <a
                    href="/admin/recdetails/<%= recruiter._id %>?noAuditNeeded=true"
                  >
                    <button class="btn btn-primary">See Details</button>
                  </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div id="Students" class="sectiondiv">
      <div class="studenttable dash-table-format">
        <div class="dropdown">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            id="tableSelectorbtnStudents"
          >
            Registered Students
          </button>
          <ul class="dropdown-menu">
            <li>
              <input
                type="radio"
                class="form-check tableRadioStudents"
                data-name="Registered Students"
                name="tableRadioStudents"
                checked
                value="Registered Students"
                style="display: inline"
                id="radioregisstu"
              />
              <label for="radioregisstu"> Registered Students</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioStudents"
                name="tableRadioStudents"
                value="Verification Pending Students"
                style="display: inline"
                id="radioverifypendstu"
              />
              <label for="radioverifypendstu"> Verification Pending</label>
            </li>

            <li>
              <input
                type="radio"
                class="form-check tableRadioStudents"
                name="tableRadioStudents"
                value="Verified Students"
                style="display: inline"
                id="radiopendinstu"
              />
              <label for="radiopendinstu"> Verified Students </label>
            </li>
          </ul>
        </div>
        <div class="dropdown dropdown-options-students">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Options to Show
          </button>

          <ul
            data-name="Registered Students"
            class="dropdown-menu"
            id="dropdown"
            style="place-items: centre"
          ></ul>
        </div>
        <div class="tablesstudent">
          <table
            class="table table-hover table-bordered"
            data-name="Registered Students"
          >
            <thead>
              <tr class="headerrowRegisteredStudents">
                <th scope="col">#</th>
                <th scope="col">Student Name</th>
                <th scope="col">Enroll No.</th>
                <th scope="col">Course</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile No.</th>
              </tr>
            </thead>
            <tbody>
              <% allRegisteredStudents.forEach((student,index) => { %>
              <tr class="dataTableRegisteredStudents">
                <td><%=index +1%></td>
                <td><%= student.fullname %></td>
                <td><%= student.enrollmentNo %></td>
                <td><%= student.course %></td>
                <td><%= student.email %></td>
                <td><%= student.mobileno%></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Verification Pending Students"
            style="display: none"
          >
            <thead>
              <tr class="headerrowPendingStudents">
                <th scope="col">#</th>
                <th scope="col">Student Name</th>
                <th scope="col">Enroll No.</th>
                <th scope="col">Course</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile No.</th>
                <th scope="col">Verification</th>
                <th scope="col">Delete Request</th>
              </tr>
            </thead>
            <tbody>
              <% allStudentsPending.forEach((student,index) => { %>
              <tr class="dataTablePendingStudents">
                <td><%=index +1%></td>
                <td><%= student.bodyData.stuname %></td>
                <td><%= student.bodyData.enrollnostu %></td>
                <td><%= student.bodyData.coursename %></td>
                <td><%= student.bodyData.email %></td>
                <td><%= student.bodyData.stumobno%></td>
                <td>
                  <a href="/admin/markStuAudit/<%=student._id%>">
                    <button class="btn btn-success">Mark as Verified</button></a
                  >
                </td>
                <td>
                  <a href="/admin/deboard/student/<%= student._id %>">
                    <button class="btn btn-danger">Delete Request</button>
                  </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Verified Students"
            style="display: none"
          >
            <thead>
              <tr class="headerrowVerifiedStudents">
                <th scope="col">#</th>
                <th scope="col">Student Name</th>
                <th scope="col">Enroll No.</th>
                <th scope="col">Course</th>
                <th scope="col">Email</th>
                <th scope="col">Mobile No.</th>
              </tr>
            </thead>
            <tbody>
              <% allAuditedStudents.forEach((student,index) => { %>
              <tr class="dataTableVerifiedStudents">
                <td><%=index +1%></td>
                <td><%= student.fullname %></td>
                <td><%= student.enrollmentNo %></td>
                <td><%= student.course %></td>
                <td><%= student.email %></td>
                <td><%= student.mobileno%></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div id="Application" class="sectiondiv">
      <div class="applicationtable dash-table-format">
        <div class="dropdown">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            id="tableSelectorbtnapplication"
          >
            Applications Received
          </button>
          <ul class="dropdown-menu">
            <li>
              <input
                type="radio"
                class="form-check tableRadioApplication"
                data-name="Application Received"
                name="tableRadioApplication"
                checked
                value="Application Received"
                style="display: inline"
                id="radioregisapplication"
              />
              <label for="radioregiapplication"> Applications Received</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioApplication"
                name="tableRadioApplication"
                value="Placed Students"
                style="display: inline"
                id="radioverifypendapplic"
              />
              <label for="radioverifypendapplic"> Placed Students</label>
            </li>
          </ul>
        </div>
        <div class="dropdown dropdown-options-application">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Options to Show
          </button>

          <ul
            class="dropdown-menu"
            id="dropdown"
            style="place-items: centre"
          ></ul>
        </div>
        <div class="dropdown dropdown-listingname-toshow">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Companies to Show
          </button>

          <ul
            data-name="Companies to Show"
            class="dropdown-menu dropdownToShowCompanies"
            id="dropdown"
            style="place-items: centre"
          >
            <li
              class="dropdown-item"
              data-companyName="All"
              style="cursor: pointer"
            >
              All
            </li>
            <%allListedRecruiters.forEach((recruiter,index)=>{%>
            <li
              class="dropdown-item"
              style="cursor: pointer"
              data-companyName="<%=recruiter.companyName%>"
            ><%=(index+1) %>. <%=recruiter.companyName %></li>
            <% })%>
          </ul>
        </div>
        <div class="tablesapplication">
          <table
            class="table table-hover table-bordered"
            data-name="Application Received"
          >
            <thead>
              <tr class="headerrowApplicationReceived">
                <th scope="col">#</th>
                <th scope="col">Student Name</th>
                <th scope="col">Course</th>
                <th scope="col">Company Name</th>
                <th scope="col">Mobile No.</th>
                <th scope="col">Date Applied</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody id="applicationsBody">
              <% allApplications.forEach(function(appObj, index) { %>
              <tr class="dataTableApplicationReceived">
                <td><%=index+1%></td>
                <td>
                  <a
                    href="/account/sturegisdetails/?stuId=<%=appObj.stuId._id%>"
                    target="_blank"
                  >
                    <%=appObj.stuId.fullname%></a
                  >
                </td>
                <td><%=appObj.stuId.course%></td>
                <td>
                  <a
                    href="/admin/listingDetails/<%=appObj.listingId._id%>"
                    target="_blank"
                    ><%=appObj.listingId.companyName%></a
                  >
                </td>
                <td><%=appObj.stuId.mobileno%></td>
                <td><%=appObj.createdAt%></td>
                <td>
                  <a href="/admin/placedstudent/<%=appObj._id%>"
                    ><button class="btn btn-primary">Mark as Placed</button></a
                  >
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Placed Students"
            style="display: none"
          >
            <thead>
              <tr class="headerrowPlacedStudents">
                <th scope="col">#</th>
                <th scope="col">Student Name</th>
                <th scope="col">Course</th>
                <th scope="col">Company name</th>
                <th scope="col">Email</th>
                <th scope="col">Date Placed</th>
              </tr>
            </thead>
            <tbody>
              <% allplacedStudents.forEach((student,index) => { %>
              <tr class="dataTablePlacedStudents">
                <td><%=index +1%></td>
                <td>
                  <a
                    href="/account/sturegisdetails/?stuId=<%=student._id%>"
                    target="_blank"
                  >
                    <%=student.fullname%></a
                  >
                </td>
                <td><%=student.course%></td>
                <td><%=student.placedCompany%></td>
                <td><%=student.email%></td>
                <td><%=student.placedDate%></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div id="Updates" class="sectiondiv">
      <div class="addupdate">
        <h3>Add a New Update</h3>
        <br />
        <form
          class="needs-validation"
          validate=""
          method="post"
          action="/admin/sendupdate"
        >
          <div>
            <h6>Title</h6>
            <input
              type="text"
              class="form-control"
              required
              placeholder="Update Title"
              name="title"
            />
          </div>
          <div>
            <h6>Description</h6>
            <textarea
              type="text"
              class="form-control"
              required
              placeholder="Description"
              name="description"
            ></textarea>
            <br />
          </div>

          <div>
            <h6>Select For Course:</h6>
            <div class="form-group" style="display: flex; padding: 0.5rem">
              <div
                class="form-check AllCourseCheckSendUpdate"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="All"
                  name="forCourse"
                  style="width: 1rem"
                  id="AllCourseCheckSendUpdate"
                />
                <label class="form-check-label" for="AllCourseCheckSendUpdate">
                  All
                </label>
              </div>

              <div
                class="form-check forCourseSendUpdatediv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  value="MtechCs"
                  id="MTechCS"
                />
                <label class="form-check-label" for="MTechCS">MTech CS </label>
              </div>

              <div
                class="form-check forCourseSendUpdatediv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="MScCS"
                  value="MscCs"
                />
                <label class="form-check-label" for="MScCS">MSc CS</label>
              </div>

              <div
                class="form-check forCourseSendUpdatediv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="MScDFIS"
                  value="MscDfis"
                />
                <label class="form-check-label" for="MScDFIS">MSc DFIS</label>
              </div>

              <div
                class="form-check forCourseSendUpdatediv"
                style="height: fit-content; display: flex; align-items: center"
              >
                <input
                  class="form-check-input"
                  type="checkbox"
                  style="width: 1rem"
                  name="forCourse"
                  id="Mtechadsai"
                  value="MtechAdsai"
                />
                <label class="form-check-label" for="Mtechadsai">
                  MTech ADSAI</label
                >
              </div>
            </div>
          </div>

          <button
            type="submit"
            class="btn form-control"
            style="
              margin-top: 1rem;
              background-color: maroon;
              color: white;
              border-radius: 2rem;
              box-shadow: 0 0 10px rgb(0, 0, 0, 0.2);
              padding: 1rem;
            "
          >
            Post Update
          </button>
        </form>
      </div>
      <div class="updatestable dash-table-format">
        <div class="dropdown">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            id="tableSelectorbtnUpdate"
            aria-expanded="false"
          >
            For All Courses
          </button>
          <ul class="dropdown-menu">
            <li>
              <input
                type="radio"
                class="form-check tableRadioUpdates"
                data-name="For All Courses"
                name="tableRadioUpdates"
                checked
                value="For All Courses"
                style="display: inline"
                id="radioallcourseupdate"
              />
              <label for="radioallcourseupdate">For All Courses</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioUpdates"
                name="tableRadioUpdates"
                value="For Mtech Cs"
                data-name="For Mtech Cs"
                style="display: inline"
                id="radiomtechcsupdate"
              />
              <label for="radiomtechcsupdate">For Mtech Cs</label>
            </li>

            <li>
              <input
                type="radio"
                class="form-check tableRadioUpdates"
                name="tableRadioUpdates"
                value="For Mtech Adsai"
                data-name="For Mtech Adsai"
                style="display: inline"
                id="radioupdatemtechadsai"
              />
              <label for="radioupdatemtechadsai">For Mtech Adsai</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioUpdates"
                name="tableRadioUpdates"
                value="For Msc Cs"
                data-name="For Msc Cs"
                style="display: inline"
                id="radioupdatemsccs"
              />
              <label for="radioupdatemsccs">For Msc Cs</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioUpdates"
                name="tableRadioUpdates"
                value="For Msc Dfis"
                data-name="For Msc Dfis"
                style="display: inline"
                id="radioupdatemscdfis"
              />
              <label for="radioupdatemscdfis">For Msc Dfis</label>
            </li>
          </ul>
        </div>
        <div class="tablesupdate">
          <table
            class="table table-hover table-bordered"
            data-name="For All Courses"
          >
            <thead>
              <tr class="headerrowUpdateForAll">
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Created at</th>
              </tr>
            </thead>
            <tbody>
              <% updatesForAll.forEach((update,index) => { %>
              <tr class="dataTableUpdateForAll">
                <td><%=index +1%></td>
                <td><%= update.title %></td>
                <td><%= update.description %></td>
                <td><%= update.createdAt %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="For Mtech Cs"
            style="display: none"
          >
            <thead>
              <tr class="headerrowUpdateForMtechCs">
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Created at</th>
              </tr>
            </thead>
            <tbody>
              <% updatesForMtechCs.forEach((update,index) => { %>
              <tr class="dataTableUpdateForMtechCs">
                <td><%=index +1%></td>
                <td><%= update.title %></td>
                <td><%= update.description %></td>
                <td><%= update.createdAt %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="For Mtech Adsai"
            style="display: none"
          >
            <thead>
              <tr class="headerrowUpdateForMtechAdsai">
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Created at</th>
              </tr>
            </thead>
            <tbody>
              <% updatesForMtechAdsai.forEach((update,index) => { %>
              <tr class="dataTableUpdateForMtechAdsai">
                <td><%=index +1%></td>
                <td><%= update.title %></td>
                <td><%= update.description %></td>
                <td><%= update.createdAt %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="For Msc Cs"
            style="display: none"
          >
            <thead>
              <tr class="headerrowUpdateForMscCs">
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Created at</th>
              </tr>
            </thead>
            <tbody>
              <% updatesForMscCs.forEach((update,index) => { %>
              <tr class="dataTableUpdateForMscCs">
                <td><%=index +1%></td>
                <td><%= update.title %></td>
                <td><%= update.description %></td>
                <td><%= update.createdAt %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="For Msc Dfis"
            style="display: none"
          >
            <thead>
              <tr class="headerrowUpdateForMscDfis">
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Created at</th>
              </tr>
            </thead>
            <tbody>
              <% updatesForMscDfis.forEach((update,index) => { %>
              <tr class="dataTableUpdateForMscDfis">
                <td><%=index +1%></td>
                <td><%= update.title %></td>
                <td><%= update.description %></td>
                <td><%= update.createdAt %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div id="Queries" class="sectiondiv">
      <div class="queriestable dash-table-format">
        <div class="dropdown">
          <button
            class="btn btn-light dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            id="tableSelectorbtnqueries"
          >
            Pending Queries
          </button>
          <ul class="dropdown-menu">
            <li>
              <input
                type="radio"
                class="form-check tableRadioQueries"
                data-name="Pending Queries"
                name="tableRadioQueries"
                checked
                value="Pending Queries"
                style="display: inline"
                id="radiopendqueries"
              />
              <label for="radiopendqueries">Pending Queries</label>
            </li>
            <li>
              <input
                type="radio"
                class="form-check tableRadioQueries"
                name="tableRadioQueries"
                value="Resolved Queries"
                data-name="Resolved Queries"
                style="display: inline"
                id="radioresolvedqueries"
              />
              <label for="radioresolvedqueries">Resolved Queries</label>
            </li>
          </ul>
        </div>

        <button
          class="btn btn-success"
          id="markselectedresolve"
          style="display: none; margin-bottom: 1rem; margin-left: 0.5rem"
        >
          Marked as Resolved
        </button>

        <div class="tablesqueries">
          <table
            class="table table-hover table-bordered"
            data-name="Pending Queries"
          >
            <thead>
              <tr class="headerrowPendingQueries">
                <th scope="col">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    name="selectall"
                    id="selectallQueriestable"
                  />
                </th>
                <th scope="col">Subject</th>
                <th scope="col">Query</th>
                <th scope="col">Created at</th>
                <th scope="col">Response</th>
                <th scope="col">Resolve Query</th>
              </tr>
            </thead>

            <tbody>
              <% allUnresolvedQueries.forEach((query,index) => { %>
              <tr class="dataTablePendingQueries">
                <td>
                  <input
                    type="checkbox"
                    class="form-check-input allQueryCheck"
                    data-queryid="<%=query._id%>"
                  />
                </td>
                <td><%= query.subject %></td>
                <td><%= query.query %></td>
                <td><%= query.createdAt %></td>
                <form
                  action="/admin/markqueryresolved/<%=query._id%>"
                  method="post"
                >
                  <td>
                    <textarea
                      type="text"
                      name="reply"
                      class="form-control"
                      placeholder="Send a Response"
                    ></textarea>
                  </td>
                  <td>
                    <button class="btn btn-success">Mark as Resolved</button>
                  </td>
                </form>
              </tr>
              <% }); %>
            </tbody>
          </table>
          <table
            class="table table-hover table-bordered"
            data-name="Resolved Queries"
            style="display: none"
          >
            <thead>
              <tr class="headerrowResolvedQueries">
                <th scope="col">#</th>
                <th scope="col">Subject</th>
                <th scope="col">Query</th>
                <th scope="col">Created at</th>
                <th scope="col">Response</th>
              </tr>
            </thead>
            <tbody>
              <% allResolvedQueries.forEach((query,index) => { %>
              <tr class="dataTableResolvedQueries">
                <td><%=index +1%></td>
                <td><%= query.subject %></td>
                <td><%= query.query %></td>
                <td><%= query.createdAt %></td>
                <td><%= query.reply %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- company to show option in application received  -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    let allcompanyselectlis = document.querySelectorAll(
      ".dropdownToShowCompanies li "
    );
    let allApplicationReceivedRows = document.querySelectorAll(
      ".dataTableApplicationReceived"
    );
    allcompanyselectlis.forEach((li) => {
      // Assuming `allApplicationReceivedRows` is a reference to all the table rows in your table
      // and `allApplicationReceivedRows` is an array of those rows.

      li.addEventListener("click", (event) => {
        // Get the selected company name
        const selectedCompany = event.target.getAttribute("data-companyName");

        // If "All" is selected, toggle the display of all rows
        if (selectedCompany == "All") {
          allApplicationReceivedRows.forEach((row) => {
            // Toggle the "hidden" class to show/hide the row
            row.classList.remove("d-none");
          });
        } else {
          // If a specific company is selected, show only the rows for that company
          allApplicationReceivedRows.forEach((row) => {
            // Check if the row's company name matches the selected company
            const companyName = row
              .querySelector("td:nth-child(4)")
              .textContent.trim(); // Assuming the company name is in the 4th column
            if (companyName == selectedCompany) {
              // If it matches, show the row
              row.classList.remove("d-none");
            } else {
              // If it doesn't match, hide the row
              row.classList.add("d-none");
            }
          });
        }
      });
    });
  });
</script>
<!-- multiple select companies verify pending -->
<script>
  document
    .getElementById("markselectedverifiedCompany")
    .addEventListener("click", () => {
      const selectedRows = [];
      document
        .querySelectorAll(".allCompanyVerificationCheck")
        .forEach((checkbox) => {
          if (checkbox.checked) {
            const rowData = {
              recid: checkbox.getAttribute("name"),
            };
            selectedRows.push(rowData);
          }
        });

      // Send the selectedRows array to your route handler
      // You can use AJAX (e.g., fetch) to send the data to your backend
      // Example:
      const form = document.createElement("form");
      form.method = "POST";
      form.action = "/admin/arrayMarkRecAudited"; // Specify your route here

      // Create hidden input fields for each selected row
      selectedRows.forEach((rowData, index) => {
        // Create an input element for checkbox value
        const checkboxInput = document.createElement("input");
        checkboxInput.type = "hidden";
        checkboxInput.name = `selectedRows[${index}][recid]`; // Adjust name based on your backend expectation
        checkboxInput.value = rowData.recid;
        form.appendChild(checkboxInput);
      });

      // Append the form to the body and submit it
      document.body.appendChild(form);
      form.submit();
    });

  // Add event listener to your "Select All" checkbox
  document
    .getElementById("selectallCompanyVerifytable")
    .addEventListener("click", () => {
      const selectAllCheckbox = document.getElementById(
        "selectallCompanyVerifytable"
      );

      document.getElementById("markselectedverifiedCompany").style.display =
        selectAllCheckbox.checked ? "inline" : "none";

      const checkboxes = document.querySelectorAll(
        ".allCompanyVerificationCheck"
      );

      checkboxes.forEach((checkbox) => {
        checkbox.checked = selectAllCheckbox.checked;
      });
    });

  document
    .querySelectorAll(".allCompanyVerificationCheck")
    .forEach((checkbox) => {
      checkbox.addEventListener("click", () => {
        const anyChecked = Array.from(
          document.querySelectorAll(".allCompanyVerificationCheck")
        ).some((checkbox) => checkbox.checked);
        // If any checkbox is checked, show the button; otherwise, hide it
        document.getElementById("markselectedverifiedCompany").style.display =
          anyChecked ? "inline" : "none";
      });
    });
</script>
<!-- multiple select queries -->
<script>
  document
    .getElementById("markselectedresolve")
    .addEventListener("click", () => {
      const selectedRows = [];
      document.querySelectorAll(".allQueryCheck").forEach((checkbox) => {
        if (checkbox.checked) {
          const row = checkbox.closest("tr");
          const inputField = row.querySelector("textarea");

          const inputValue = inputField.value;

          const rowData = {
            queryId: checkbox.getAttribute("data-queryid"),
            response: inputValue,
          };
          selectedRows.push(rowData);
        }
      });

      // Send the selectedRows array to your route handler
      // You can use AJAX (e.g., fetch) to send the data to your backend
      // Example:
      const form = document.createElement("form");
      form.method = "POST";
      form.action = "/admin/arrayMarkAsResolved"; // Specify your route here

      // Create hidden input fields for each selected row
      selectedRows.forEach((rowData, index) => {
        // Create an input element for checkbox value
        const checkboxInput = document.createElement("input");
        checkboxInput.type = "hidden";
        checkboxInput.name = `selectedRows[${index}][queryId]`; // Adjust name based on your backend expectation
        checkboxInput.value = rowData.queryId;
        form.appendChild(checkboxInput);

        // Create an input element for input field value
        const inputFieldInput = document.createElement("input");
        inputFieldInput.type = "hidden";
        inputFieldInput.name = `selectedRows[${index}][response]`; // Adjust name based on your backend expectation
        inputFieldInput.value = rowData.response;
        form.appendChild(inputFieldInput);
      });

      // Append the form to the body and submit it
      document.body.appendChild(form);
      form.submit();
    });

  // Add event listener to your "Select All" checkbox
  document
    .getElementById("selectallQueriestable")
    .addEventListener("click", () => {
      const selectAllCheckbox = document.getElementById(
        "selectallQueriestable"
      );

      document.getElementById("markselectedresolve").style.display =
        selectAllCheckbox.checked ? "inline" : "none";

      const checkboxes = document.querySelectorAll(".allQueryCheck");

      checkboxes.forEach((checkbox) => {
        checkbox.checked = selectAllCheckbox.checked;
      });
    });

  document.querySelectorAll(".allQueryCheck").forEach((checkbox) => {
    checkbox.addEventListener("click", () => {
      const anyChecked = Array.from(
        document.querySelectorAll(".allQueryCheck")
      ).some((checkbox) => checkbox.checked);
      // If any checkbox is checked, show the button; otherwise, hide it
      document.getElementById("markselectedresolve").style.display = anyChecked
        ? "inline"
        : "none";
    });
  });
</script>
<!-- for queries -->
<!-- table script only -->
<script>
  function toggleTableQueries(radio) {
    let QueryCategoryName = radio.value;
    document.querySelector("#tableSelectorbtnqueries").innerHTML =
      QueryCategoryName;
    let allTables = document.querySelectorAll(".tablesqueries table");
    allTables.forEach((table) => {
      if (table.getAttribute("data-name") == QueryCategoryName) {
        table.style.display = "table";
      } else {
        table.style.display = "none";
      }
    });
  }

  document.querySelectorAll(".tableRadioQueries").forEach(function (radio) {
    radio.addEventListener("change", function (event) {
      toggleTableQueries(radio);
    });
  });

  toggleTableQueries(
    document.querySelector(".dropdown input[data-name='Pending Queries']")
  );
</script>
<!-- for updates -->
<!-- table script only -->
<script>
  function toggleTableUpdates(radio) {
    let UpdatesCategoryName = radio.value;
    document.querySelector("#tableSelectorbtnUpdate").innerHTML =
      UpdatesCategoryName;
    let allTables = document.querySelectorAll(".tablesupdate table");
    allTables.forEach((table) => {
      if (table.getAttribute("data-name") == UpdatesCategoryName) {
        table.style.display = "table";
      } else {
        table.style.display = "none";
      }
    });
  }

  document.querySelectorAll(".tableRadioUpdates").forEach(function (radio) {
    radio.addEventListener("change", function (event) {
      toggleTableUpdates(radio);
    });
  });

  toggleTableUpdates(
    document.querySelector(".dropdown input[data-name='For All Courses']")
  );
</script>
<!-- for applications -->
<!-- table script -->
<script>
  let monitorAllApplicationsReceived = () => {
    let allOptions = document
      .querySelectorAll(".checkApplicationReceived")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn1application(checkbox);
        });
      });
  };

  let monitorAllPlacedStudents = () => {
    let allOptions2 = document
      .querySelectorAll(".checkPlacedStudents")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();

          toggleColumn2application(checkbox);
        });
      });
  };

  function toggleTableApplications(radio) {
    let ApplicationCategoryName = radio.value;
    document.querySelector("#tableSelectorbtnapplication").innerHTML =
      ApplicationCategoryName;
    let allUls = document.querySelectorAll(".dropdown-options-application ul");
    allUls.forEach((ul) => {
      if ("Application Received" == ApplicationCategoryName) {
        ul.innerHTML = `<li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkApplicationReceived"
                name="Student Name"
                value="Student Name"
                checked
                style="display: inline"
              />
              Student Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkApplicationReceived"
                name="Course"
                value="Course"
                checked
                style="display: inline"
              />
              Course
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkApplicationReceived"
                name="Company Name"
                value="Company Name"
                checked
                style="display: inline"
              />
              Company Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkApplicationReceived"
                name="Mobile No."
                checked
                value="Mobile No."
                style="display: inline"
              />
              Mobile No.
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkApplicationReceived"
                name="Date Applied"
                checked
                value="Date Applied"
                style="display: inline"
              />
              Date Applied
            </li>
           `;
        monitorAllApplicationsReceived();
      } else if (ApplicationCategoryName == "Placed Students") {
        ul.innerHTML = `<li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkPlacedStudents"
                name="Student Name"
                value="Student Name"
                checked
                style="display: inline"
              />
              Student Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkPlacedStudents"
                name="Course"
                value="Course"
                checked
                style="display: inline"
              />
              Course
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkPlacedStudents"
                name="Company name"
                value="Company name"
                checked
                style="display: inline"
              />
              Company name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkPlacedStudents"
                name="Email"
                checked
                value="Email"
                style="display: inline"
              />
              Email
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkPlacedStudents"
                name="Date Placed"
                checked
                value="Date Placed"
                style="display: inline"
              />
              Date Placed
            </li>
           `;
        monitorAllPlacedStudents();
      }
    });

    let allTables = document.querySelectorAll(".tablesapplication table");
    allTables.forEach((table) => {
      if (table.getAttribute("data-name") == ApplicationCategoryName) {
        table.style.display = "table";
      } else {
        table.style.display = "none";
      }
    });
  }

  document.querySelectorAll(".tableRadioApplication").forEach(function (radio) {
    radio.addEventListener("change", function (event) {
      toggleTableApplications(radio);
    });
  });

  toggleTableApplications(
    document.querySelector(".dropdown input[data-name='Application Received']")
  );
</script>
<!-- column script -->
<script>
  function toggleColumn1application(checkbox) {
    let columnIndex = checkbox.value;

    let headerRow = document.querySelectorAll(
      ".headerrowApplicationReceived th"
    );

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll(".dataTableApplicationReceived");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }
</script>
<script>
  function toggleColumn2application(checkbox) {
    let columnIndex = checkbox.value;
    let headerRow = document.querySelectorAll(".headerrowPlacedStudents th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll(".dataTablePlacedStudents");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }
</script>
<!-- for companies -->
<!--table script -->
<script>
  let monitorAllRegisteredCheckboxes = () => {
    let allOptions = document
      .querySelectorAll(".columnCheckboxRegistered")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn1(checkbox);
        });
      });
  };

  let monitorAllPendingCheckboxes = () => {
    let allOptions2 = document
      .querySelectorAll(".columnCheckboxPending")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();

          toggleColumn2(checkbox);
        });
      });
  };

  let monitorAllListingCheckboxes = () => {
    let allOptions3 = document
      .querySelectorAll(".columnCheckboxListing")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn3(checkbox);
        });
      });
  };

  let monitorAllVerifiedCompaniesCheckboxes = () => {
    let allOptions3 = document
      .querySelectorAll(".columnCheckboxVerifiedCompanies")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn4(checkbox);
        });
      });
  };

  function toggleTable(radio) {
    let companyCategoryName = radio.value;
    document.querySelector("#tableSelectorbtncompanies").innerHTML =
      companyCategoryName;
    let allUls = document.querySelectorAll(".dropdown-options ul");
    allUls.forEach((ul) => {
      if ("Registered Companies" == companyCategoryName) {
        ul.innerHTML = `
  <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="jobtype"
                  value="See Details"
                  checked
                  style="display: inline"
                />
                See Details
              </li>

          <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="jobtype"
                  value="Company Name"
                  checked
                  style="display: inline"
                />
                Company Name
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="jobtype"
                  value="Job Type"
                  checked
                  style="display: inline"
                />
                Job Type
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="jobtitle"
                  value="Job Title"
                  checked
                  style="display: inline"
                />
                Job Title
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="joblocation"
                  checked
                  value="Job Location"
                  style="display: inline"
                />
                Job Location
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxRegistered"
                  name="jobdescription"
                  checked
                  value="Job Description"
                  style="display: inline"
                />
                Job Description
              </li>
             `;
        monitorAllRegisteredCheckboxes();
      } else if (companyCategoryName == "Verification Pending") {
        ul.innerHTML = `<li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="jobtype"
                  value="Company Name"
                  checked
                  style="display: inline"
                />
                Company Name
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="Nature of Business"
                  value="Nature of Business"
                  checked
                  style="display: inline"
                />
                Nature of Business
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="Website Link"
                  value="Website Link"
                  checked
                  style="display: inline"
                />
                Website Link
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="Postal Address"
                  checked
                  value="Postal Address"
                  style="display: inline"
                />
                Postal Address
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="Category"
                  checked
                  value="Category"
                  style="display: inline"
                />
                Category
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="HR Name"
                  value="HR Name"
                  checked
                  style="display: inline"
                />
                HR Name
              </li> <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="HR Mobile No."
                  value="HR Mobile No."
                  checked
                  style="display: inline"
                />
                HR Mobile No.
              </li> <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxPending"
                  name="HR Email"
                  value="HR Email"
                  checked
                  style="display: inline"
                />
                HR Email
              </li>`;
        monitorAllPendingCheckboxes();
      } else if (companyCategoryName == "Listed Companies") {
        ul.innerHTML = `
    <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="EditListing"
                  checked
                  value="Edit Listing"
                  style="display: inline"
                />
                Edit Listing
              </li>
          <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="jobtype"
                  value="Company Name"
                  checked
                  style="display: inline"
                />
                Company Name
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="jobtype"
                  value="Job Type"
                  checked
                  style="display: inline"
                />
                Job Type
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="jobtitle"
                  value="Job Title"
                  checked
                  style="display: inline"
                />
                Job Title
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="joblocation"
                  checked
                  value="Job Location"
                  style="display: inline"
                />
                Job Location
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="jobdescription"
                  checked
                  value="Job Description"
                  style="display: inline"
                />
                Job Description
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="ctc"
                  value="CTC"
                  checked
                  style="display: inline"
                />
                CTC
              </li><li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="ctc"
                  value="For Course"
                  checked
                  style="display: inline"
                />
                For Course
              </li><li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxListing"
                  name="ctc"
                  value="Last Date to Apply"
                  checked
                  style="display: inline"
                />
                Last Date to Apply
              </li>`;
        monitorAllListingCheckboxes();
      } else if (companyCategoryName == "Verified Companies") {
        ul.innerHTML = `
   <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="jobtype"
                  value="Company Name"
                  checked
                  style="display: inline"
                />
                Company Name
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="Nature of Business"
                  value="Nature of Business"
                  checked
                  style="display: inline"
                />
                Nature of Business
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="Website Link"
                  value="Website Link"
                  checked
                  style="display: inline"
                />
                Website Link
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="Postal Address"
                  checked
                  value="Postal Address"
                  style="display: inline"
                />
                Postal Address
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="Category"
                  checked
                  value="Category"
                  style="display: inline"
                />
                Category
              </li>
              <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="HR Name"
                  value="HR Name"
                  checked
                  style="display: inline"
                />
                HR Name
              </li> <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="HR Mobile No."
                  value="HR Mobile No."
                  checked
                  style="display: inline"
                />
                HR Mobile No.
              </li> <li class="dropdown-item">
                <input
                  type="checkbox"
                  class="form-check columnCheckboxVerifiedCompanies"
                  name="HR Email"
                  value="HR Email"
                  checked
                  style="display: inline"
                />
                HR Email
              </li>
             `;
      }
    });

    let allTables = document.querySelectorAll(".tables table");
    allTables.forEach((table) => {
      if (table.getAttribute("data-name") == companyCategoryName) {
        table.style.display = "table";
      } else {
        table.style.display = "none";
      }
    });
  }

  document.querySelectorAll(".tableRadio").forEach(function (radio) {
    radio.addEventListener("change", function (event) {
      toggleTable(radio);
    });
  });

  toggleTable(
    document.querySelector(".dropdown input[data-name='Registered Companies']")
  );
</script>
<!-- column script -->
<script>
  function toggleColumn1(checkbox) {
    let columnIndex = checkbox.value;

    let headerRow = document.querySelectorAll(".headerrowRegistered th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll("#dataTableRegistered");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }

  monitorAllRegisteredCheckboxes();
</script>
<script>
  function toggleColumn2(checkbox) {
    let columnIndex = checkbox.value;
    let headerRow = document.querySelectorAll(".headerrowPending th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll("#dataTablePending");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }

  monitorAllPendingCheckboxes();
</script>
<script>
  function toggleColumn3(checkbox) {
    let columnIndex = checkbox.value;
    let headerRow = document.querySelectorAll(".headerrowListing th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll("#dataTableListing");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }

  monitorAllListingCheckboxes();
</script>
<script>
  function toggleColumn4(checkbox) {
    let columnIndex = checkbox.value;

    let headerRow = document.querySelectorAll(".headerrowVerifiedCompanies th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll("#dataTableVerifiedCompanies");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }

  monitorAllVerifiedCompaniesCheckboxes();
</script>
<!-- for students-->
<!-- table script -->
<script>
  let monitorAllRegisteredCheckboxesStudents = () => {
    let allOptions = document
      .querySelectorAll(".checkregisstu")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn1Students(checkbox);
        });
      });
  };

  let monitorAllPendingCheckboxesStudents = () => {
    let allOptions2 = document
      .querySelectorAll(".verifipendingstu")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn2Students(checkbox);
        });
      });
  };

  let monitorAllListingCheckboxesStudents = () => {
    let allOptions3 = document
      .querySelectorAll(".verifistu")
      .forEach(function (checkbox) {
        checkbox.addEventListener("change", function (event) {
          event.preventDefault();
          toggleColumn3Students(checkbox);
        });
      });
  };

  function toggleTableStudents(radio) {
    let studentCategoryName = radio.value;
    document.querySelector("#tableSelectorbtnStudents").innerHTML =
      studentCategoryName;
    let allUls = document.querySelectorAll(".dropdown-options-students ul");
    allUls.forEach((ul) => {
      if ("Registered Students" == studentCategoryName) {
        ul.innerHTML = `<li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkregisstu"
                name="Student Name"
                value="Student Name"
                checked
                style="display: inline"
              />
              Students Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkregisstu"
                name="Enroll No."
                value="Enroll No."
                checked
                style="display: inline"
              />
Enroll No.
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkregisstu"
                name="Course"
                value="Course"
                checked
                style="display: inline"
              />
              Course
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkregisstu"
                name="Email"
                checked
                value="Email"
                style="display: inline"
              />
              Email
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check checkregisstu"
                name="Mobile No."
                checked
                value="Mobile No."
                style="display: inline"
              />
              Mobile No.
            </li>`;
        monitorAllRegisteredCheckboxesStudents();
      } else if (studentCategoryName == "Verification Pending Students") {
        ul.innerHTML = `<li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifipendingstu"
                name="Student Name"
                value="Student Name"
                checked
                style="display: inline"
              />
              Student Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifipendingstu"
                name="Enroll No."
                value="Enroll No."
                checked
                style="display: inline"
              />
              Enroll No.
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifipendingstu"
                name="Course"
                value="Course"
                checked
                style="display: inline"
              />
              Course
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifipendingstu"
                name="Email"
                checked
                value="Email"
                style="display: inline"
              />
              Email
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifipendingstu"
                name="Mobile No."
                checked
                value="Mobile No."
                style="display: inline"
              />
              Mobile No.
            </li>
          `;
        monitorAllPendingCheckboxesStudents();
      } else {
        ul.innerHTML = `<li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifistu"
                name="Student Name"
                value="Student Name"
                checked
                style="display: inline"
              />
              Student Name
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifistu"
                name="Enroll No."
                value="Enroll No."
                checked
                style="display: inline"
              />
              Enroll No.
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifistu"
                name="Course"
                value="Course"
                checked
                style="display: inline"
              />
              Course
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifistu"
                name="Email"
                checked
                value="Email"
                style="display: inline"
              />
              Email
            </li>
            <li class="dropdown-item">
              <input
                type="checkbox"
                class="form-check verifistu"
                name="Mobile No."
                checked
                value="Mobile No."
                style="display: inline"
              />
              Mobile No.
            </li>
          `;
        monitorAllListingCheckboxesStudents();
      }
    });

    let allTablesStudents = document.querySelectorAll(".tablesstudent table");
    allTablesStudents.forEach((table) => {
      if (table.getAttribute("data-name") == studentCategoryName) {
        table.style.display = "table";
      } else {
        table.style.display = "none";
      }
    });
  }

  document.querySelectorAll(".tableRadioStudents").forEach(function (radio) {
    radio.addEventListener("change", function (event) {
      toggleTableStudents(radio);
    });
  });

  toggleTableStudents(
    document.querySelector(".dropdown input[data-name='Registered Students']")
  );
</script>
<!-- column script -->
<script>
  function toggleColumn1Students(checkbox) {
    let columnIndexStudents = checkbox.value;

    let headerRowStudents = document.querySelectorAll(
      ".headerrowRegisteredStudents th"
    );

    // Find the index of the column to toggle
    let index = Array.from(headerRowStudents).findIndex(
      (th) => th.textContent.trim() === columnIndexStudents
    );

    // Hide/show the th element
    headerRowStudents[index].style.display = checkbox.checked
      ? "table-cell"
      : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRowsStudents = document.querySelectorAll(
      ".dataTableRegisteredStudents"
    );
    tableRowsStudents.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }
</script>
<script>
  function toggleColumn2Students(checkbox) {
    let columnIndex = checkbox.value;
    let headerRow = document.querySelectorAll(".headerrowPendingStudents th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll(".dataTablePendingStudents");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }
</script>
<script>
  function toggleColumn3Students(checkbox) {
    let columnIndex = checkbox.value;
    let headerRow = document.querySelectorAll(".headerrowVerifiedStudents th");

    // Find the index of the column to toggle
    let index = Array.from(headerRow).findIndex(
      (th) => th.textContent.trim() === columnIndex
    );

    // Hide/show the th element
    headerRow[index].style.display = checkbox.checked ? "table-cell" : "none";

    // Hide/show the corresponding td elements in the table body
    let tableRows = document.querySelectorAll(".dataTableVerifiedStudents");
    tableRows.forEach((row) => {
      let td = row.querySelectorAll("td")[index];
      if (td) {
        td.style.display = checkbox.checked ? "table-cell" : "none";
      }
    });
  }
</script>
<!--sections enabler  -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var links = document
      .querySelector(".sectionslinksadmin")
      .querySelectorAll('a[href^="#"]');

    links.forEach(function (link) {
      link.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent the default behavior of following the link

        var targetId = this.getAttribute("href").substring(1); // Get the target section id

        // Hide all sections
        var sections = document.querySelectorAll(".sectiondiv");
        sections.forEach(function (section) {
          section.style.display = "none";
        });

        // Display the target section
        var targetSection = document.getElementById(targetId);
        if (targetSection) {
          targetSection.style.display = "block";
        }

        links.forEach(function (link) {
          link.querySelector("li").classList.remove("selected");
        });
        this.querySelector("li").classList.add("selected");
      });
    });
  });
</script>
<!-- all course add listing -->
<script>
  let allforcoursebtn = document
    .getElementById("AllCourseCheckAddListing")
    .addEventListener("click", () => {
      document.querySelectorAll(".forCourseAddlistingdiv").forEach((div) => {
        // Get the input element inside the current div
        let input = div.querySelector("input");
        // Check if the input value is not equal to "All"
        if (input.value !== "All") {
          // Disable the input element
          input.disabled = input.disabled ? false : true;
        }
      });
    });
</script>
<!-- all course send update -->
<script>
  document
    .getElementById("AllCourseCheckSendUpdate")
    .addEventListener("click", () => {
      document.querySelectorAll(".forCourseSendUpdatediv").forEach((div) => {
        // Get the input element inside the current div
        let input = div.querySelector("input");
        // Check if the input value is not equal to "All"
        if (input.value !== "All") {
          // Disable the input element
          input.disabled = input.disabled ? false : true;
        }
      });
    });
</script>
<!-- chart js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  var labels = [
    "Registered Companies",
    "Pending Company Verifications",
    "Registered Students",
    "Pending Student Verifications",
    "No. of Applications Received",
  ];
  var counts = [
    <%=countAllRegisteredRecruiters%>,
   <%=countAllRecruitersPending%>,
   <%= countallRegisteredStudents%>,
   <%= countallStudentsPending%>,
   <%= countallApplications%>,
  ]; // Corresponding counts for each label
  var ctx = document.getElementById("pieChart").getContext("2d");
  var myPieChart = new Chart(ctx, {
    type: "pie",
    data: {
      labels: labels,
      datasets: [
        {
          data: counts,
          backgroundColor: [
            "rgba(255, 99, 132, 01)", // Example color
            "rgba(255, 206, 86, 01)", // Example color
            "rgba(255, 106, 116, 01)", // Example color
            "rgba(255, 106, 16, 01)", // Example color
            "rgba(54, 162, 235, 01)", // Example color
        ],
        },
      ],
    },
    options: {
      tooltips: {
        callbacks: {
          label: function (tooltipItem, data) {
            var label = data.labels[tooltipItem.index];
            var count = data.datasets[0].data[tooltipItem.index];
            return label + ": " + count;
          },
        },
      },
    },
  });
</script>
<!-- sign out -->
<script>
  let signoutli = document.querySelector(".signoutli");
  signoutli.addEventListener("click", () => {
    if (window.confirm("Are you sure want to Sign Out?")) {
      let signOutForm = document.createElement("form");
      signOutForm.action = "/auth/logout";
      document.querySelector("body").appendChild(signOutForm);
      signOutForm.submit();
    } else {
      window.location.reload();
    }
  });
</script>
